const util = require('./util')

describe('lorentz_boost', () => {
  const examples = [
    [
      'box intersection',
      [0, 0, 0],
      [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]]
    ],
    [
      'x boost',
      [0.6, 0, 0],
      [[1.25, -0.75, -0, -0], [-0.75, 1.25, 0, 0], [-0, 0, 1, 0], [-0, 0, 0, 1]]
    ],
    [
      'y boost',
      [0, 0.6, 0],
      [[1.25, -0, -0.75, -0], [-0, 1, 0, 0], [-0.75, 0, 1.25, 0], [-0, 0, 0, 1]]
    ],
    [
      'z boost',
      [0, 0, 0.6],
      [[1.25, -0, -0, -0.75], [-0, 1, 0, 0], [-0, 0, 1, 0], [-0.75, 0, 0, 1.25]]
    ],
    [
      'xyz boost',
      [0.5, 0.5, 0.5],
      [
        [2, -1, -1, -1],
        [-1, 4 / 3, 1 / 3, 1 / 3],
        [-1, 1 / 3, 4 / 3, 1 / 3],
        [-1, 1 / 3, 1 / 3, 4 / 3]
      ]
    ]
  ]

  for (const example of examples) {
    test(example[0], () => {
      expect(util.lorentz_boost(example[1])).toEqual(example[2])
    })
  }
})
